# I/O

- 현대 컴퓨터는 대부분 byte 단위로 데이터를 추고 받는다. 파일을 받을 수도 있고 네트워크나 콘솔로 입력을 받을 수도 있다.
- 각자의 방식을 추상화 한 클래스가 InputStream, OutputStream이다.

## BufferedInputStream / BufferedOutputStream

- 버퍼를 사용하면 I/O 시스템 콜을 적게 호출하면서 성능이 올라간다.
- 디스크나 파일 시스템에서 데이터를 읽고 쓰는 기본 단위가 4KB or 8KB이기 때문에 한 번에 크게 한다고 무작정 빠른 것은 아니다.

### 직접 버퍼를 다루는 것보다 느린 이유

- 동기화 코드가 걸려있다.
- write()를 1000만 번 한다면 lock도 1000만 번 잠겼다 풀린다.
- 싱글 스레드 상황에서는 동기화 락이 필요하지 않기 때문에 직접 버퍼를 사용할 때보다 성능이 떨어진다.
- 매우 큰 데이터를 다루고 성능 최적화가 필요하다면 직접 버퍼를 다루는 게 낫다.
    - 동기화가 없는 버퍼 기능은 없다.

## 기본 스트림, 보조 스트림

- FileOutputStream처럼 단독으로 사용 가능하면 기본 스트림이라고 한다.
- BufferedOutputStream처럼 단독으로 사용할 수 없고 보조적인 기능을 제공함면 보조 스트림이라고 한다.
    - 생성할 때도 기본 스트림을 대상으로 넣어줘야 가능하다.

## Reader / Writer

- 문자를 다루는 별도의 클래스
- byte 대신 문자를 받아서 처리한다.
    - 내부에서는 byte로 인코딩해서 처리한다.
